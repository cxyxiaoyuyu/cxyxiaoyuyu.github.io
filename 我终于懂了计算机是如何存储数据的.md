---
title: è®¡ç®—æœºç¼–ç ä¸jså­—ç¬¦ä¸²
date: 2019-11-01 09:25:27
tags: ç¼–ç  jså­—ç¬¦ä¸²
categories: è®¡ç®—æœºç¼–ç 
---

# å‰è¨€

> ä¸–ç•Œä¸Šåªæœ‰10ç§äºº, è®¤è¯†äºŒè¿›åˆ¶çš„å’Œä¸è®¤è¯†çš„
> è®¡ç®—æœºåªèƒ½å­˜å‚¨0å’Œ1, æ‰€æœ‰ä¿¡æ¯åœ¨æ–°è®¡ç®—å†…éƒ¨æœ€ç»ˆéƒ½æ˜¯ä»¥äºŒè¿›åˆ¶çš„å½¢å¼å­˜å‚¨ã€‚

æ¯ä¸€ä¸ªäºŒè¿›åˆ¶ä½(bit)éƒ½åªæœ‰0å’Œ1ä¸¤ç§çŠ¶æ€,å…«ä½äºŒè¿›åˆ¶(ä¸€ä¸ªå­—èŠ‚byte)å¯ä»¥è¡¨ç¤º` 2**8 === 256 `ç§çŠ¶æ€,ä»00000000~11111111ã€‚

æ—¢ç„¶è®¡ç®—æœºåªèƒ½å­˜å‚¨0å’Œ1,å®ƒæ˜¯æ€ä¹ˆå­˜å‚¨æ•°å­—ä»¥åŠå„ç§å­—ç¬¦å‘¢ï¼Ÿå…ˆä»ç®€å•çš„æ•°å­—è¯´èµ·å§

# å¦‚ä½•å­˜å‚¨æ•°å­—

å­˜å‚¨æ•°å­—å¾ˆå®¹æ˜“,ç›´æ¥è½¬ä¸ºäºŒè¿›åˆ¶å°±å¥½äº†

    15 => 0b1111
    -15 => -0b1111
    0.75 => 0b0.11

> è®¡ç®—æœºåªèƒ½å­˜å‚¨1å’Œ0
> è´Ÿæ•°ä»¥[è¡¥ç ](https://zh.wikipedia.org/wiki/%E4%BA%8C%E8%A3%9C%E6%95%B8)çš„å½¢å¼å­˜å‚¨
> å°æ•°ä»¥[æµ®ç‚¹æ•°](https://zh.wikipedia.org/wiki/æµ®ç‚¹æ•°)çš„å½¢å¼å­˜å‚¨

# å¦‚ä½•å­˜å‚¨å­—ç¬¦

> ä¸Šä¸ªä¸–çºª60å¹´ä»£ï¼Œç¾å›½åˆ¶å®šäº†ä¸€å¥—å­—ç¬¦ç¼–ç ï¼Œå¯¹è‹±è¯­å­—ç¬¦ä¸äºŒè¿›åˆ¶ä½ä¹‹é—´çš„å…³ç³»ï¼Œåšäº†ç»Ÿä¸€è§„å®šã€‚è¿™è¢«ç§°ä¸º ASCII ç ï¼Œä¸€ç›´æ²¿ç”¨è‡³ä»Šã€‚

{% asset_img ascii.jpg ASCIIç è¡¨ %}

æ¯”å¦‚ å­—ç¬¦açš„asciiç å¯¹åº”çš„åè¿›åˆ¶æ˜¯97, äºŒè¿›åˆ¶æ˜¯0110 0001; å­—ç¬¦5çš„asciiç å¯¹åº”çš„åè¿›åˆ¶æ˜¯53, äºŒè¿›åˆ¶æ˜¯0011 0101ã€‚

> ASCII ç ä¸€å…±è§„å®šäº†128ä¸ªå­—ç¬¦çš„ç¼–ç ,åªç”¨äº†ä¸€ä¸ªå­—èŠ‚ã€‚

# å¦‚ä½•å­˜å‚¨ä¸­æ–‡å­—ç¬¦
ASCIIç åªèƒ½å­˜å‚¨128ä¸ªè‹±æ–‡å­—ç¬¦, ä¸èƒ½å­˜å‚¨ä¸­æ–‡å­—ç¬¦,æ‰€ä»¥åœ¨ASCIIçš„åŸºç¡€ä¸Š,ä¸­å›½æ¨å‡ºäº†[GB2321](https://zh.wikipedia.org/wiki/GB_2312)ç¼–ç 

{% asset_img gb2312.png GB_2312ç¼–ç  %}

> GB2312 å…±æ”¶å½• 6763 ä¸ªæ±‰å­—ï¼ŒåŒæ—¶æ”¶å½•äº†åŒ…æ‹¬æ‹‰ä¸å­—æ¯ã€å¸Œè…Šå­—æ¯ã€æ—¥æ–‡å¹³å‡ååŠç‰‡å‡åå­—æ¯ã€ä¿„è¯­è¥¿é‡Œå°”å­—æ¯åœ¨å†…çš„ 682 ä¸ªå­—ç¬¦ã€‚

> åæ¥ä¸ºäº†å­˜å‚¨ç”Ÿåƒ»å­—ã€ç¹ä½“å­—ã€æ—¥è¯­ã€æœé²œè¯­ç­‰ï¼Œå¾®è½¯æ¨å‡ºäº† GBK å­—ç¬¦é›†


# å¦‚ä½•å­˜å‚¨æ‰€æœ‰å­—ç¬¦

ä¸ºäº†å­˜å‚¨å…¨çƒå­—ç¬¦ï¼Œå°†å…¨çƒå­—ç¬¦ç¼–å·,æœ‰äº†unicodeç¼–ç ,åŒ…æ‹¬ä¸­æ—¥éŸ©æ–‡å­—ã€è—æ–‡ã€ç›²æ–‡ã€æ¥”å½¢æ–‡å­—ã€ é¢œæ–‡å­—:-)ã€ ç»˜æ–‡å­—ğŸ˜‚

{% asset_img unicode.png unicodeå­—ç¬¦é›† %}

æ¯”å¦‚ æ±‰å­—**ä¸¥**çš„ Unicode æ˜¯åå…­è¿›åˆ¶æ•°4E25ï¼Œè½¬æ¢æˆäºŒè¿›åˆ¶æ•°10011100 00100101 æ±‰å­—**ä½ **çš„ Unicode æ˜¯åå…­è¿›åˆ¶æ•°4f60, è½¬æ¢æˆäºŒè¿›åˆ¶æ•°01001111 01100000ï¼Œ

> Unicodeåªè§„å®šäº†æ¯ä¸ªå­—ç¬¦çš„ç ç‚¹ï¼Œåˆ°åº•ç”¨ä»€ä¹ˆæ ·çš„å­—èŠ‚åºè¡¨ç¤ºè¿™ä¸ªç ç‚¹ï¼Œå°±æ¶‰åŠåˆ°ç¼–ç æ–¹æ³•ã€‚

æœ€ç›´è§‚çš„ç¼–ç æ–¹æ³•æ˜¯ï¼Œæ¯ä¸ªç ç‚¹ä½¿ç”¨å››ä¸ªå­—èŠ‚è¡¨ç¤ºï¼Œå­—èŠ‚å†…å®¹ä¸€ä¸€å¯¹åº”ç ç‚¹ã€‚è¿™ç§ç¼–ç æ–¹æ³•å°±å«åšUTF-32ã€‚
> 4ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦
> å®Œå…¨å¯¹åº”unicodeç¼–ç 

æ¯”å¦‚ açš„utf-32ä¸º0x00000061 å³äºŒè¿›åˆ¶ 00000000 00000000 00000000 01100001 

# å¦‚ä½•èŠ‚çœç©ºé—´ (UTF-8ç¼–ç )

è™½ç„¶utf-32ç¼–ç ç®€å•ç›´è§‚,æŸ¥æ‰¾èµ·æ¥å¾ˆæ–¹ä¾¿,ä½†æ˜¯æµªè´¹ç©ºé—´,æ¯”å¦‚å­—ç¬¦'a',asciiç åªç”¨äº†ä¸€ä¸ªå­—èŠ‚å­˜å‚¨,utf-32å´ç”¨äº†å››ä¸ªå­—èŠ‚
æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ç§èŠ‚çœç©ºé—´çš„è¡¨ç¤ºæ–¹æ³•ï¼Œè¿™å¯¼è‡´äº†utf-8çš„è¯ç”Ÿ

> UTF-8æ˜¯ä¸€ç§å˜é•¿çš„ç¼–ç æ–¹æ³•ï¼Œå­—ç¬¦é•¿åº¦ä»1ä¸ªå­—èŠ‚åˆ°4ä¸ªå­—èŠ‚ä¸ç­‰ã€‚

> æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬çŸ¥é“,unicodeæ˜¯ä¸€ç§å­—ç¬¦é›†,è€Œutf-8æ˜¯ä¸ºäº†èŠ‚çœå­˜å‚¨ç©ºé—´çš„ç¼–ç æ–¹æ³•

ä»¥ä¸‹æ˜¯utf-8ç¼–ç è§„åˆ™

00000000 00000000 00000000 01111111 å³ 0x0000007F ä»¥ä¸‹
0XXXXXXX 

00000000 00000000 00000111 11111111 å³ 0x000007FF ä»¥ä¸‹
110XXXXX 10XXXXXX  

00000000 00000000 11111111 11111111 å³ 0x0000FFFF ä»¥ä¸‹
1110XXXX 10XXXXXX 10XXXXXX 

00000000 00011111 11111111 11111111 å³ 0x001FFFFF ä»¥ä¸‹
11110XXX 10XXXXXX 10XXXXXX 10XXXXXX  

å¦‚æœä¸€ä¸ªå­—èŠ‚çš„ç¬¬ä¸€ä½æ˜¯0ï¼Œåˆ™è¿™ä¸ªå­—èŠ‚å•ç‹¬å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ï¼›å¦‚æœç¬¬ä¸€ä½æ˜¯1ï¼Œåˆ™è¿ç»­æœ‰å¤šå°‘ä¸ª1ï¼Œå°±è¡¨ç¤ºå½“å‰å­—ç¬¦å ç”¨å¤šå°‘ä¸ªå­—èŠ‚ã€‚

æ¯”å¦‚ å­—ç¬¦'ä½ 'çš„unicodeç¼–ç æ˜¯ `0100 1111 0110 0000` å³ `0x4f60` åœ¨0x000007FF~0x0000FFFFä¹‹é—´,æ‰€ä»¥éœ€è¦ä¸‰ä¸ªå­—èŠ‚
æ ¼å¼æ˜¯`1110XXXX 10XXXXXX 10XXXXXX` ,ä»'ä½ 'çš„äºŒè¿›åˆ¶æœ€åä¸€ä½å¼€å§‹,ä»å³å‘å·¦æ›¿æ¢'X',é«˜ä½è¡¥0 ä¼šå¾—åˆ° 
`11100100 10111101 10100000` å³ `E4BDA0`,æ‰€ä»¥'ä½ 'çš„UTF-8ç¼–ç æ˜¯`E4BDA0`

è¿˜æœ‰æ›´å¤šçš„[unicodeç¼–ç æ–¹å¼](http://www.ruanyifeng.com/blog/2014/12/unicode.html),è¯·å‚è€ƒ

> UTF-8 å¯å˜å­—èŠ‚åºåˆ—ï¼Œç”¨ 1 åˆ° 4 ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªç ç‚¹ 
> UTF-16 å¯å˜å­—èŠ‚åºåˆ—ï¼Œç”¨ 2 æˆ– 4 ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªç ç‚¹ 
> UTF-32 å›ºå®šå­—èŠ‚åºåˆ—ï¼Œç”¨ 4 ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªç ç‚¹

# Javascripté‡‡ç”¨çš„ç¼–ç æ–¹å¼ (USC-2ç¼–ç )

ç”±äºjsè¯ç”Ÿçš„æ—¶å€™åªæœ‰UCS-2ç¼–ç , æ‰€ä»¥jsé‡‡ç”¨çš„ç¼–ç æ˜¯UCS-2ç¼–ç 

> USC-2 1990å¹´å‘å¸ƒ ä½¿ç”¨2ä¸ªå­—èŠ‚è¡¨ç¤ºå·²ç»æœ‰ç ç‚¹çš„å­—ç¬¦
> jsæ˜¯1995å¹´è¯ç”Ÿçš„
> UTF-16 1996å¹´7æœˆå‘å¸ƒ

ç”±äºjsé‡‡ç”¨çš„æ˜¯USC-2ç¼–ç ,åªèƒ½è¯»å–2ä¸ªå­—èŠ‚çš„å­—ç¬¦(å³èŒƒå›´åœ¨0x0000~0xFFFF),è¿™ä¼šå¯¼è‡´å¾ˆå¤šé—®é¢˜

## å­—ç¬¦çš„unicodeè¡¨ç¤ºæ³•

è¿™é‡Œè¯·å‚è€ƒ[å­—ç¬¦çš„unicodeè¡¨ç¤ºæ³•](http://es6.ruanyifeng.com/#docs/string)

> ES6 åŠ å¼ºäº†å¯¹ Unicode çš„æ”¯æŒ, å…è®¸é‡‡ç”¨\uxxxxå½¢å¼è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­xxxxè¡¨ç¤ºå­—ç¬¦çš„ Unicode ç ç‚¹ã€‚

    '\u4f60' // 'ä½ '

ä½†æ˜¯åœ¨è¯»å–è¶…è¿‡ä¸¤ä¸ªå­—èŠ‚çš„å­—ç¬¦æ—¶,å°±ä¼šåªè¯»å–å‰ä¸¤ä¸ªå­—èŠ‚

    '\u20bb7'  // "â‚»7"

è€Œå¤§äºä¸¤å­—èŠ‚çš„å­—ç¬¦çš„lengthä¹Ÿä¼šæ˜¾ç¤ºé”™è¯¯

    "ğ ®·".length  // 2

> ES6 å¯¹è¿™ä¸€ç‚¹åšå‡ºäº†æ”¹è¿›ï¼Œåªè¦å°†ç ç‚¹æ”¾å…¥å¤§æ‹¬å·ï¼Œå°±èƒ½æ­£ç¡®è§£è¯»è¯¥å­—ç¬¦,ä»¥UTF-16çš„ç¼–ç æ–¹å¼ã€‚

    "\u{20BB7}"    // "ğ ®·"


    "\u{41}\u{42}\u{43}"     // "ABC"


    let hello = 123;
    hell\u{6F}  // 123   å› ä¸º'\u{6f}'è¡¨ç¤ºå­—ç¬¦'o'

    '\u{1F680}' === '\uD83D\uDE80' // true  éƒ½è¡¨ç¤ºå­—ç¬¦"ğŸš€"

javaScript å…±æœ‰ 6 ç§æ–¹æ³•å¯ä»¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚

    '\z' === 'z'  // true    
    '\172' === 'z' // true     è¿™é‡Œæ˜¯unicodeç çš„å…«è¿›åˆ¶
    '\x7A' === 'z' // true
    '\u007A' === 'z' // true
    '\u{7A}' === 'z' // true

## å°†å­—ç¬¦ä¸²è½¬ä¸ºæ•°ç»„

    ('ğ ®·ğ ®·ğ ®·').split('')  // Â ["ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½"] è¶…è¿‡ä¸¤ä¸ªå­—èŠ‚çš„å­—ç¬¦æ— æ³•æ­£ç¡®è¯†åˆ«

è§£å†³åŠæ³•: ES6æ¨å‡ºäº†`Array.from`æ–¹æ³•

    Array.from('ğ ®·ğ ®·ğ ®·')  // Â ["ğ ®·", "ğ ®·", "ğ ®·"]

## ç ç‚¹ä¸å­—ç¬¦äº’æ¢

> String.prototype.charCodeAt()  è¿”å›å­—ç¬¦çš„UTF-16ç¼–ç (åè¿›åˆ¶)
> String.fromCharCode()  è¿”å›ç”±æŒ‡å®šçš„UTF-16ä»£ç å•å…ƒåºåˆ—åˆ›å»ºçš„å­—ç¬¦ä¸²
> String.fromCodePoint()  è¿”å›ç”±æŒ‡å®šçš„UTF-16ä»£ç å•å…ƒåºåˆ—åˆ›å»ºçš„å­—ç¬¦ä¸²  ES6è¯­æ³•

    'z'.charCodeAt()              // 122
    String.fromCharCode('122','0o172','0x7a')    // "zzz"

    String.fromCharCode(0x20BB7)   // "à®·"  ä¹±ç   å› ä¸º0x20BB7è¶…è¿‡ä¸¤ä¸ªå­—èŠ‚,æ— æ³•æ­£ç¡®è§£è¯»

ES6çš„fromCodePoint()å¯ä»¥è§£å†³è¿™ä¸€bug
    
    String.fromCodePoint(0x20BB7)
    String.fromCodePoint('122','0o172','0x7a')   // "zzz"

å¦å¤–ä¸€äº›bug,è¯·å‚è€ƒ[javascriptæœ‰ä¸ªunicodeçš„å¤©å‘](http://www.alloyteam.com/2016/12/javascript-has-a-unicode-sinkhole/)






